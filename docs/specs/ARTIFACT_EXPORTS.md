# Artifact exports (markdown projections)

## Purpose
Humans like readable “living files” for quick inspection. These must be exports from durable stores, not the primary storage.

Exports live in:
- `artifacts/`

They are generated by scripts and are safe to read in Web UI.

## Do not do this
- Do not have Telegram runner append to `REACTIONS.md`.
- Do not use markdown files as a memory store.
- Do not read markdown files during runtime to make decisions.

## Export script
Add:
- `scripts/export-artifacts.mjs`
- npm script: `npm run export:artifacts`

It reads from SQLite and writes:
- `artifacts/REACTIONS.md` from `polar_feedback_events`
- `artifacts/HEARTBEAT.md` from `polar_run_events` where `source=heartbeat`
- `artifacts/MEMORY.md` from `polar_memory` summaries

## Format guidance
Each markdown export should include:
- Generated timestamp
- Summary counts at the top
- A section per day (or per run batch)
- Stable headings so diffs are readable

## Web UI access
Web UI `readMD` route may allow read access to `artifacts/**/*.md`.
Writing to artifacts should be disabled by default.

## Acceptance criteria
- Running `npm run export:artifacts` produces the expected files.
- Runtime does not depend on artifacts existing.
- Path allowlist prevents traversal.

## Agent checklist
- Check `AGENTS.md` first.
- When done, write to `docs/IMPLEMENTATION_LOG.md`.
